<section data-ng-controller="BranchController">
	<div class="mainwrapper anchorTag">
		<ol class="breadcrumb">
			<li><i class="fa fa-home link-pointer" data-ng-click="redirectdashboard()"></i></li>
			<li><a href="/admin/country">Country</a></li>
			 <li><a href="/admin/country/{{countryId}}/zone">Zone</a></li>
			<li><a href="/admin/zone/{{zoneId}}/city">City</a></li>
			<li><a href="/admin/city/{{cityId}}/branch">Branch</a></li> 
			<li ng-disable = "true">Create</li>
		</ol>
	</div>
	<div class="mainwrapper">
		<h3 class="pull-left">Branch</h3>
	</div>
	
	<div class="col-xs-12">
		<form name="branchForm" class="form-horizontal formCountry"
			data-ng-submit="create(BRANCH.URL_PATH.LISTBRANCH,branchForm.$valid)" novalidate>
		<div class="form-group" ng-class="{ 'has-error' : submitted && branchForm.name.$invalid }">
				<label mean-token="'create-branchName'" class="col-md-2 pull-left">Branch Name</label>
				<div class="col-md-6">
					<input name="branchName" type="text" class="form-control"
						data-ng-model="branch.branchName" id="branchName" placeholder="Branch Name" required>
						<div class="errorRed" ng-repeat="err in error.data" ng-if="err.param =='branchName'">{{err.msg}}</div>
					<div ng-show="submitted && branchForm.branchName.$invalid">
						<span class="err-msg errorText red"
							ng-show="branchForm.branchName.$error.required"> Please
							enter the Name </span>
					</div>
				</div>
			</div>
			<div class="form-group" ng-class="{ 'has-error' : submitted && branchForm.name.$invalid }">
				<label mean-token="'create-branchCode'"
					class="col-md-2 pull-left">Branch Code</label>
				<div class="col-md-6">
					<input name="branchCode" data-ng-model="branch.branchCode"
						id="branchCode" cols="30" rows="5" placeholder="Branch Code"
						class="form-control" required>
						<div class="errorRed" ng-repeat="err in error.data" ng-if="err.param =='branchCode'">{{err.msg}}</div>
						<div ng-show="submitted && branchForm.branchCode.$invalid">
						<span class="err-msg errorText red"
							ng-show="branchForm.branchCode.$error.required"> Please
							enter the Branch code </span>
					</div>

				</div>
			</div>
			 <div class="form-group" ng-class="{ 'has-error' : submitted && branchForm.name.$invalid }">
				<label mean-token="'create-branchEmail'"
					class="col-md-2 pull-left">Email</label>
				<div class="col-md-6">
					<input type="text" name="email" placeholder="Email"
						class="form-control" ng-model="branch.email"
						ng-pattern=" /^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/"
						required />
				
				<div ng-show="submitted && branchForm.email.$invalid">
						<span class="err-msg errorText red"
							ng-show="branchForm.email.$error.required">
							Please enter email</span> <span class="fa fa-exclamation-triangle error"
							ng-show="branchForm.email.$error.pattern">
							Please enter correct pattern of email</span>
					</div>
					
					</div>
					
				</div> 
				<div class="form-group" ng-class="{ 'has-error' : submitted && branchForm.name.$invalid }">
					<label mean-token="'create-description'"
						class="col-md-2 pull-left">Description</label>
					<div class="col-md-6">
						<textarea name="description" data-ng-model="branch.description"
							id="description" cols="30" rows="5" placeholder="Description"
							class="form-control" required></textarea>
						<div ng-show="submitted && branchForm.description.$invalid">
							<span class="err-msg errorText red"
								ng-show="branchForm.description.$error.required"> Please
								enter the Description </span>
						</div>

					</div>
				</div>
				<div class="form-group" ng-class="{ 'has-error' : submitted && branchForm.name.$invalid }">
					<label mean-token="'create-address'" class="col-md-2 pull-left">Address</label>
					<div class="row">
					 <div class="col-md-12"> 					
						<div class="col-md-2 pull-left rolesA">
						<label mean-token="'new-title'">Address Line 1</label>
						</div>
						<div class="col-md-4 rolesA">
							<input name="line1" type="text" class="form-control"
								data-ng-model="branch.address.line1" id="addressline1"
								placeholder="Line1" required>
						</div>
						<div class="col-md-2 pull-left rolesA">
						<label mean-token="'new-title'">Address Line 2</label>
						</div>
						<div class="col-md-4 rolesA">
							<input name="line2" type="text" class="form-control"
								data-ng-model="branch.address.line2" id="addressline2"
								placeholder="Line2" required>
						</div>
						<div class="col-md-2 pull-left rolesA">
						<label mean-token="'new-title'">City</label>
						</div>
						<div class="col-md-4 rolesA">
							<input name="city" type="text"
								class="form-control col-md-3" data-ng-model="branch.address.city"
								id="address.city" placeholder="City" required>
						</div>
						<div class="col-md-2 pull-left rolesA">
						<label mean-token="'new-title'">State</label>
						</div>
						<div class="col-md-4 rolesA">
							<input name="state" type="text"
								class="form-control col-md-3" data-ng-model="branch.address.state"
								id="branch.address.state" placeholder="State" required>
						</div>
						<div class="col-md-2 pull-left rolesA">
						<label mean-token="'new-title'">Country</label>
						</div>
						<div class="col-md-4 rolesA">
							<input name="country" type="text"
								class="form-control col-md-3" data-ng-model="branch.address.country"
								id="branch.address.country" placeholder="Country" required>
						</div>
						<div class="col-md-2 pull-left rolesA">
						<label mean-token="'new-title'">Pincode</label>
						</div>
						<div class="col-md-4 rolesA">
							<input name="pincode" type="text"
								class="form-control col-md-3" data-ng-model="branch.address.pincode"
								id="address.pincode" placeholder="Pincode" required>
						</div>
						
					<!-- <div class="col-md-6" >
						<textarea name="address" data-ng-model="branch.address"
							id="address" cols="30" rows="5" placeholder="Address"
							class="form-control"></textarea>

					</div> -->					
				</div> 
				</div>
				</div>
			
				<div class="form-group" ng-class="{ 'has-error' : submitted && branchForm.name.$invalid }">
					<label mean-token="'create-PhoneNumber'" class="col-md-2 pull-left">Phone Number</label>
						
						<div class="col-md-1 ">
							<input name="line1" type="text" class="form-control"
								data-ng-model="branch.PhoneNumber.pre" id="addressline1"
								placeholder="Pre" required>
						</div>
						
						<div class="col-md-3">
							<input name="line2" type="number" class="form-control"
								data-ng-model="branch.PhoneNumber.number" id="addressline2"
								placeholder="number" required>
						</div>
						<!-- <div ng-show="submitted && branchForm.number.$invalid">
							<span class="err-msg errorText red"
								ng-show="branchForm.number.$error.required"> Please
								enter the phone number</span>
						</div>
 -->
					</div>
				
				<div class="form-group">
					<label mean-token="'create-picture'" class="col-md-2 pull-left">Picture</label>
					<div class="col-md-6">
						<div class="col-sm-4">
						
								<img src="{{branch.picture}}" data-ng-if="branch.picture" width="50px" height="50px" >
							</div>
							<div>
								<form name="uploadPictureForm" class="form-horizontal col-md-12"
									role="form" novalidate>
					
									<div class="form-group">
					
										<div class="col-md-12">
											<div class="btn btn-info" ngf-select
												ngf-change="onBranchFileSelect($files)" accept="image/png, image/jpeg">
												Upload</div>
											<span data-ng-if="uploadInProgress">Upload progress: {{
												uploadProgress }}</span>
				</div>
				</div>

			</form>
			</div>
		</div>
					</div>
			
				


				<div class="form-group">
					<div class="col-md-offset-3 col-md-9">
						<button mean-token="'create-submit'" type="button" data-ng-click = "create(BRANCH.URL_PATH.LISTBRANCH,branchForm.$valid)"
							class="btn btn-info">Submit</button>
						<button type="button" class="btn btn-info" ng-click="cancel(BRANCH.URL_PATH.LISTBRANCH,cityId)">Cancel</button>
					</div>
				</div>
		</form>
	</div>

</section>


