<section  data-ng-controller = 'AdminCounsellingController' data-ng-init="list(); ">
    <div data-ng-include="'/system/views/alert.html'">
    </div>
    <div ng-include="'/system/views/breadcrum.html'">
    </div>
    <div class="mainwrapper">
        <h3 class="pull-left">
            Counselling Request
        </h3>
    </div>
    <table class="table table-bordered"  >
        <thead>
            <tr>
                <th class="text-center">
                    Student Name
                </th>
                <th class="text-center">
                    Branch Name
                </th>
                <th class="text-center">
                    Course Name
                </th>
                <th class="text-center">
                    Counselling Date
                </th>
                <th class="text-center">
                    Counselling Slot
                </th>
                <th class="text-center">
                    Status
                </th>
                <th class="text-center">
                    Actions
                </th>
            </tr>
        </thead>
        <tbody class="anchorTag">
            <tr data-ng-repeat="counsellingrequest in collection" class="" ng-class-odd="'odd'" ng-class-even="'even'" data-ng-show="collection || collection.length">
                <td>
                    {{counsellingrequest.studentName.name}}
                </td>
                <td>
                    {{counsellingrequest.branch.branchName}}
                </td>
                <td>
                    {{counsellingrequest.course.name}}
                </td>
                <td class="text-right">
                    {{counsellingrequest.counsellingDate | date: 'dd-MMM-yyyy'}}
                </td>
                <td class="text-right">
                    {{counsellingrequest.counsellingSlot}}
                </td>
                <td>
                    {{counsellingrequest.status}}
                </td>
                <td width="10%" align="center">
                    <div class="dropdown" uib-dropdown on-toggle="toggled(open)">
                        <a href class="dropdown-toggle btn btn-wide btn-default" uib-dropdown-toggle>
                            <i class="fa fa-arrow-circle-right">
                            </i>
                            <span>
                                Actions
                            </span>
                        </a>
                        <ul role="menu" class="dropdown-menu dropdown-light animated fadeInUpShort ">
                            <li ng-if="updatePermission">
                                <a class="menu-toggler" data-ng-click = "updateSchedule(counsellingrequest)" >
                                    <i class="fa fa-pencil-square-o">
                                    </i>
                                    <span>
                                        Edit Counselling
                                    </span>
                                </a>
                            </li>
                            <li ng-if="updatePermission">
                                <a class="menu-toggler" data-ng-click = "changeCounsellingStatusReject('Rejected',counsellingrequest._id,counsellingrequest)">
                                    <i class="fa fa-pencil-square-o">
                                    </i>
                                    <span>
                                        Reject Counselling
                                    </span>
                                </a>
                            </li>
                            <li ng-if="deletePermission">
                                <a class="menu-toggler" data-ng-click = "viewScheduleDetails(counsellingrequest)">
                                    <i class="fa fa-eye">
                                    </i>
                                    <span>
                                        View Counselling
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </td>
            </tr>
            <tr data-ng-hide="collection.length >0">
                <td colspan="7">
                    No Request Found...
                </td>
            </tr>
        </tbody>
    </table>
    <div data-ng-show="collection.length >0" class="paginate usr">
        <div ng-include="'system/views/paginationFilter.html'">
        </div>
        <br/>
    </div>
</section>
